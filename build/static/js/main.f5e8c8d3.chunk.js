(this["webpackJsonpmovie-app-2021"]=this["webpackJsonpmovie-app-2021"]||[]).push([[0],{101:function(e,n,t){},102:function(e,n,t){"use strict";t.r(n);var r,c,a,i,o=t(0),s=t(37),u=t.n(s),j=(t(71),t(14)),l=t(15),b=t(6),d=t(19),O=t(8),m=t(7),h={mainRed:["#E50914","#CD2C2C"],mainBlack:"#221f1f",mainWhite:"#f5f5f1",mainGray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"]},p=t(1),f=m.b.button(r||(r=Object(b.a)(["\n  border: none;\n  border-radius: 4px;\n  color: ",";\n  outline: none;\n  padding: 0.5rem 1rem;\n  cursor: pointer;\n  z-index: 10;\n  background: ",";\n  &:hover {\n    background: ",";\n  }\n\n  ","\n"])),h.mainWhite,h.mainRed[0],h.mainRed[1],(function(e){return e.size&&Object(m.a)(c||(c=Object(b.a)(["\n      font-size: ","rem;\n    "])),e.size)})),x=m.b.div(a||(a=Object(b.a)(["\n  display: flex;\n  align-items: center;\n"]))),g=function(e){return Object(p.jsx)(x,Object(O.a)({},e))},v=function(e){return Object(p.jsx)(f,Object(O.a)({},e))},w=t(27),y=t(16),k=t(13),C=t(17),E=t.n(C),z=t(109),S=t(107),R=t(61),I=t(18),L="loading/START_LOADING",A="loading/FINISH_LOADING",N=Object(z.a)(L,(function(e){return e})),_=Object(z.a)(A,(function(e){return e})),G=Object(S.a)((i={},Object(k.a)(i,L,(function(e,n){return Object(O.a)(Object(O.a)({},e),{},Object(k.a)({},n.payload,!0))})),Object(k.a)(i,A,(function(e,n){return Object(O.a)(Object(O.a)({},e),{},Object(k.a)({},n.payload,!1))})),i),{}),D=function(e){return[e,"".concat(e,"_SUCCESS"),"".concat(e,"_FAILURE")]};function F(e,n){var t="".concat(e,"_SUCCESS"),r="".concat(e,"_FAILURE");return E.a.mark((function c(a){var i;return E.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Object(I.c)(N(e));case 2:return c.prev=2,c.next=5,Object(I.b)(n,a.payload);case 5:return i=c.sent,c.next=8,Object(I.c)({type:t,payload:i.data});case 8:c.next=14;break;case 10:return c.prev=10,c.t0=c.catch(2),c.next=14,Object(I.c)({type:r,payload:c.t0,error:!0});case 14:return c.next=16,Object(I.c)(_(e));case 16:case"end":return c.stop()}}),c,null,[[2,10]])}))}var T,W=t(39),U=t.n(W),Z=U.a.create(),H=function(){return Z.post("/api/auth/logout")},M=function(){return Z.post("/api/auth/withdrawal")},B=E.a.mark(he),J="auth/CHANGE_INPUT",P="auth/INITIALIZE_FORM",Y=D("auth/REGISTER"),K=Object(l.a)(Y,3),V=K[0],$=K[1],q=K[2],Q=D("auth/LOGIN"),X=Object(l.a)(Q,3),ee=X[0],ne=X[1],te=X[2],re=D("auth/MODIFY_PASSWORD"),ce=Object(l.a)(re,3),ae=ce[0],ie=ce[1],oe=ce[2],se=Object(z.a)(J,(function(e){return{form:e.form,key:e.key,value:e.value}})),ue=Object(z.a)(P,(function(e){return e})),je=Object(z.a)(V,(function(e){return{username:e.username,password:e.password}})),le=Object(z.a)(ee,(function(e){return{username:e.username,password:e.password}})),be=Object(z.a)(ae,(function(e){return e})),de=F(V,(function(e){var n=e.username,t=e.password;return Z.post("/api/auth/register",{username:n,password:t})})),Oe=F(ee,(function(e){var n=e.username,t=e.password;return Z.post("/api/auth/login",{username:n,password:t})})),me=F(ae,(function(e){var n=e.password;return Z.post("/api/auth/modify",{password:n})}));function he(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(I.d)(V,de);case 2:return e.next=4,Object(I.d)(ee,Oe);case 4:return e.next=6,Object(I.d)(ae,me);case 6:case"end":return e.stop()}}),B)}var pe,fe,xe,ge,ve,we,ye,ke,Ce,Ee,ze,Se,Re,Ie,Le,Ae,Ne,_e,Ge,De,Fe,Te,We,Ue,Ze,He={register:{username:"",password:"",passwordConfirm:""},login:{username:"",password:""},auth:null,authError:null,switchError:null},Me=Object(S.a)((T={},Object(k.a)(T,J,(function(e,n){var t=n.payload,r=t.form,c=t.key,a=t.value;return Object(R.a)(e,(function(e){e[r][c]=a}))})),Object(k.a)(T,P,(function(e,n){var t,r=n.payload;return Object(O.a)(Object(O.a)({},e),{},(t={},Object(k.a)(t,r,He[r]),Object(k.a)(t,"authError",null),t))})),Object(k.a)(T,$,(function(e,n){var t=n.payload;return Object(O.a)(Object(O.a)({},e),{},{authError:null,auth:t})})),Object(k.a)(T,q,(function(e,n){var t=n.payload;return Object(O.a)(Object(O.a)({},e),{},{authError:t})})),Object(k.a)(T,ne,(function(e,n){var t=n.payload;return Object(O.a)(Object(O.a)({},e),{},{authError:null,auth:t})})),Object(k.a)(T,te,(function(e,n){var t=n.payload;return Object(O.a)(Object(O.a)({},e),{},{authError:t})})),Object(k.a)(T,ie,(function(e,n){var t=n.payload;return Object(O.a)(Object(O.a)({},e),{},{switchError:null,auth:t})})),Object(k.a)(T,oe,(function(e,n){var t=n.payload;return Object(O.a)(Object(O.a)({},e),{},{switchError:t})})),T),He),Be=m.b.div(pe||(pe=Object(b.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  margin: 4rem auto;\n  min-height: 460px;\n\n  @media (min-width: 320px) and (max-width: 700px) {\n    max-width: 90vw;\n  }\n  \n  @media (min-width: 701px) and (max-width: 869px) {\n    max-width: 620px;\n    min-height: 500px;\n  }\n\n  @media (min-width: 870px) {\n    max-width: 780px;\n    min-height: 460px;\n  }\n"]))),Je=function(e){return Object(p.jsx)(Be,Object(O.a)({},e))},Pe=m.b.div(fe||(fe=Object(b.a)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 5rem;\n  background-color: transparent;\n  text-align: center;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),Ye=m.b.div(xe||(xe=Object(b.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  width: 80vw;\n  \n  @media (min-width: 480px) {\n    width: 90vw;\n    padding: 0.25rem;\n  }\n"]))),Ke=function(e){return Object(p.jsx)(Ye,Object(O.a)({},e))},Ve=m.b.div(ge||(ge=Object(b.a)(["\n  height: 5rem;\n"]))),$e=function(e){return Object(p.jsx)(Ve,Object(O.a)({},e))},qe=function(e){return Object(p.jsx)(Pe,Object(O.a)({},e))},Qe=m.b.p(ve||(ve=Object(b.a)(["\n  text-align: center;\n  font-weight: bold;\n  margin: 0;\n  font-size: 3rem;\n\n  @media (max-width: 600px) {\n    font-size: 2.4rem;\n  }\n"]))),Xe=m.b.p(we||(we=Object(b.a)(["\n  text-align: center;\n  font-size: 1.6rem;\n  max-width: 625px;\n  margin: 1rem auto 0.7rem;\n\n  @media (max-width: 600px) {\n    font-size: 1.3rem;\n  }\n"]))),en=m.b.p(ye||(ye=Object(b.a)(["\n  text-align: center;\n  font-size: 1.2rem;\n  margin-top: 2rem;\n\n  @media (max-width: 600px) {\n    font-size: 1rem;\n  }\n"]))),nn=m.b.div(ke||(ke=Object(b.a)(["\n  width: 100%;\n  min-height: 8rem;\n"]))),tn=m.b.div(Ce||(Ce=Object(b.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: flex-start;\n\n  @media (max-width: 480px) {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    flex-direction: column;\n  }\n"]))),rn=m.b.input(Ee||(Ee=Object(b.a)(["\n  font-size: 20px;\n  padding: 10px;\n  border: none;\n  line-height: 30px;\n  width: 100%;\n  color: ",";\n\n  &:focus {\n    outline: none;\n  }\n\n  @media (min-width: 481px) and (max-width: 700px) {\n    width: 55vw;\n  }\n\n  @media (min-width: 701px) {\n    width: 25rem;\n  }\n"])),h.mainGray[8]),cn=m.b.div(ze||(ze=Object(b.a)(["\n  color: orange;\n  font-size: 0.725rem;\n  margin-top: 0.5rem;\n\n  @media (max-width: 480px) {\n    width: 100%;\n  }\n"]))),an=Object(m.b)(v)(Se||(Se=Object(b.a)(["\n  border-radius: 0 !important;\n\n  @media (max-width: 480px) {\n    width: 96%;\n    display: flex;\n    justify-content: center;\n    margin-top: 0.5rem;\n  }\n"]))),on=m.b.div(Re||(Re=Object(b.a)(["\n  @media (max-width: 480px) {\n    width: 96%;\n  }\n"]))),sn=Object(j.withRouter)((function(e){var n=e.history,t=Object(o.useState)(""),r=Object(l.a)(t,2),c=r[0],a=r[1],i=Object(o.useState)(null),s=Object(l.a)(i,2),u=s[0],j=s[1],b=Object(y.b)(),O=Object(o.useRef)(),m=/^[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*@[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*.[a-zA-Z]{2,3}$/i;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(qe,{children:Object(p.jsxs)(Ke,{children:[Object(p.jsx)(w.b,{color:h.mainRed[0],size:40}),Object(p.jsx)(d.b,{to:"/login",children:Object(p.jsx)(v,{size:1,children:"\ub85c\uadf8\uc778"})})]})}),Object(p.jsx)($e,{}),Object(p.jsxs)(Je,{children:[Object(p.jsx)(Qe,{children:"\uc2e4\uc2dc\uac04 \ud3c9\uc810\uc21c \uc601\ud654\ub97c \ud655\uc778\ud558\uc138\uc694."}),Object(p.jsx)(Xe,{children:"\ub2e4\uc591\ud55c \ub514\ubc14\uc774\uc2a4\uc5d0\uc11c \uc0ac\uc6a9\ud558\uc138\uc694. \uc544\ub798 \uc2dc\uc791\ud558\uae30 \ubc84\ud2bc\uc744 \ub204\ub974\uba74 \uc774\ub3d9\ud569\ub2c8\ub2e4."}),Object(p.jsxs)(nn,{children:[Object(p.jsx)(en,{children:"\uc2dc\uc791\ud560 \uc900\ube44\uac00 \ub418\uc168\ub098\uc694? \uba64\ubc84\uc2ed\uc744 \ub4f1\ub85d\ud558\ub824\uba74 \uc774\uba54\uc77c \uc8fc\uc18c\ub97c \uc785\ub825\ud558\uc138\uc694."}),Object(p.jsxs)(tn,{children:[Object(p.jsxs)(on,{children:[Object(p.jsx)(rn,{type:"text",name:"username",autoComplete:"username",placeholder:"\uc774\uba54\uc77c \uc8fc\uc18c",ref:O,value:c,onChange:function(e){a(e.target.value),j(null)}}),u&&Object(p.jsx)(cn,{children:u})]}),Object(p.jsx)(an,{size:1.6,onClick:function(){0==c.length?(j("\ube48\uce78\uc744 \ucc44\uc6cc\uc8fc\uc138\uc694."),a(""),O.current.focus()):null==c.match(m)?(j("\uc62c\ubc14\ub978 \uc774\uba54\uc77c\uc744 \uc785\ub825\ud558\uc138\uc694."),a(""),O.current.focus()):(b(se({form:"register",key:"username",value:c})),n.push("/register"))},children:Object(p.jsxs)(g,{children:["\uc2dc\uc791\ud558\uae30 ",Object(p.jsx)(w.a,{})]})})]})]})]})]})})),un=m.b.div(Ie||(Ie=Object(b.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: black;\n  color: ",";\n\n  @media only screen and (min-width: 540px) {\n    min-width: 430px;\n    height: 100vh;\n  }\n"])),h.mainWhite),jn=m.b.div(Le||(Le=Object(b.a)(["\n  margin-top: 5rem;\n\n  @media only screen and (min-width: 540px) {\n    max-width: 500px;\n    min-height: 100vh;\n    margin: 0 auto;\n    padding: 0 35px;\n  }\n"]))),ln=function(e){var n=e.children,t=e.noClick;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(qe,{children:t?Object(p.jsx)(w.b,{color:h.mainRed[0],size:55}):Object(p.jsx)(d.b,{to:"/",children:Object(p.jsx)(w.b,{color:h.mainRed[0],size:55})})}),Object(p.jsx)("div",{children:Object(p.jsxs)(jn,{children:[Object(p.jsx)($e,{}),Object(p.jsx)(un,{children:n})]})})]})},bn=t(40),dn=m.b.div(Ae||(Ae=Object(b.a)(["\n  width: 90%;\n  display: flex;\n  flex-direction: column;\n  \n  @media only screen and (min-width: 540px) {\n    width: 70%;\n  }\n"]))),On=m.b.form(Ne||(Ne=Object(b.a)(["\n  display: flex;\n  flex-direction: column;\n  padding: 1.5rem 0;\n"]))),mn=m.b.div(_e||(_e=Object(b.a)(["\n  margin-top: 0.8rem;\n  padding: 0 auto;\n"]))),hn=m.b.div(Ge||(Ge=Object(b.a)(["\n  color: orange;\n  text-align: center;\n  font-size: 0.725rem;\n  margin-top: 0.8rem;\n"]))),pn=m.b.p(De||(De=Object(b.a)(["\n  text-align: center;\n\n  ","\n"])),(function(e){return e.size&&Object(m.a)(Fe||(Fe=Object(b.a)(["\n      font-size: ","px;\n    "])),e.size)})),fn=Object(m.b)(pn)(Te||(Te=Object(b.a)(["\n  font-weight: bold;\n"]))),xn=m.b.input(We||(We=Object(b.a)(["\n  font-size: 15px;\n  padding: 0.5rem;\n  border: none;\n  border-radius: 4px;\n  background-color: ",";\n  color: ",";\n  size: 40;\n  height: 55px;\n\n  &:focus {\n    outline: none;\n  }\n\n  & + & {\n    margin-top: 1rem;\n  }\n"])),h.mainGray[8],h.mainWhite),gn=Object(m.b)(v)(Ue||(Ue=Object(b.a)(["\n  width: 100%;\n  padding: 1rem 0;\n  margin-top: 1rem;\n"]))),vn={login:"\ub85c\uadf8\uc778",register:"\ud68c\uc6d0\uac00\uc785"},wn=function(e){var n=e.type,t=e.form,r=e.onChange,c=e.onSubmit,a=e.error,i=vn[n];return Object(p.jsxs)(dn,{children:[Object(p.jsxs)("div",{children:[Object(p.jsx)(fn,{size:30,children:i}),Object(p.jsxs)(On,{onSubmit:c,children:[Object(p.jsx)(xn,{name:"username",autoComplete:"username",placeholder:"\uc774\uba54\uc77c \uc8fc\uc18c",onChange:r,value:t.username}),Object(p.jsx)(xn,{name:"password",autoComplete:"password",type:"password",placeholder:"\ube44\ubc00\ubc88\ud638",onChange:r,value:t.password}),"register"===n&&Object(p.jsx)(xn,{name:"passwordConfirm",autoComplete:"passwordConfirm",type:"password",placeholder:"\ube44\ubc00\ubc88\ud638 \ud655\uc778",onChange:r,value:t.passwordConfirm}),Object(p.jsx)(gn,{size:1,children:i})]}),a&&Object(p.jsx)(hn,{children:a})]}),Object(p.jsx)(mn,{children:"login"===n?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(pn,{children:"\uc544\uc9c1 \ud68c\uc6d0\uc774 \uc544\ub2c8\uc2e0\uac00\uc694?"}),Object(p.jsx)(fn,{children:Object(p.jsx)(d.b,{to:"/register",children:"\uc9c0\uae08 \uac00\uc785\ud558\uc138\uc694"})})]}):Object(p.jsx)(fn,{children:Object(p.jsx)(d.b,{to:"/login",children:"\ub85c\uadf8\uc778\ud558\ub7ec \uac00\uae30"})})})]})},yn=E.a.mark(Un),kn=E.a.mark(Zn),Cn=E.a.mark(Hn),En="user/TEMP_LOGGEDIN",zn=D("user/CHECK"),Sn=Object(l.a)(zn,3),Rn=Sn[0],In=Sn[1],Ln=Sn[2],An="user/LOGOUT",Nn="user/WITHDRAWAL",_n=Object(z.a)(En,(function(e){return e})),Gn=Object(z.a)(Rn),Dn=Object(z.a)(An),Fn=Object(z.a)(Nn),Tn=F(Rn,(function(){return Z.get("/api/auth/check")}));function Wn(){try{localStorage.removeItem("user")}catch(e){console.log("localStorage is not working")}}function Un(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(I.b)(H);case 3:localStorage.removeItem("user"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),yn,null,[[0,6]])}function Zn(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(I.b)(M);case 3:localStorage.removeItem("user"),console.log("Successfully withdrew"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),kn,null,[[0,7]])}function Hn(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(I.d)(Rn,Tn);case 2:return e.next=4,Object(I.d)(Ln,Wn);case 4:return e.next=6,Object(I.d)(An,Un);case 6:return e.next=8,Object(I.d)(Nn,Zn);case 8:case"end":return e.stop()}}),Cn)}var Mn,Bn,Jn,Pn,Yn,Kn,Vn,$n,qn,Qn,Xn,et,nt=Object(S.a)((Ze={},Object(k.a)(Ze,En,(function(e,n){var t=n.payload;return Object(O.a)(Object(O.a)({},e),{},{user:t})})),Object(k.a)(Ze,In,(function(e,n){var t=n.payload;return Object(O.a)(Object(O.a)({},e),{},{user:t,checkError:null})})),Object(k.a)(Ze,Ln,(function(e,n){var t=n.payload;return Object(O.a)(Object(O.a)({},e),{},{user:null,checkError:t})})),Object(k.a)(Ze,An,(function(e){return Object(O.a)(Object(O.a)({},e),{},{user:null})})),Object(k.a)(Ze,Nn,(function(e){return Object(O.a)(Object(O.a)({},e),{},{user:null})})),Ze),{user:null,checkError:null}),tt=Object(bn.withRouter)((function(e){var n=e.history,t=Object(o.useState)(null),r=Object(l.a)(t,2),c=r[0],a=r[1],i=Object(y.b)(),s=Object(y.c)((function(e){var n=e.auth,t=e.user;return{form:n.login,auth:n.auth,authError:n.authError,user:t.user}})),u=s.form,j=s.auth,b=s.authError,d=s.user;return Object(o.useEffect)((function(){i(ue("login"))}),[i]),Object(o.useEffect)((function(){if(b)return console.log("Authoriaztion failed",b),void a("\ub85c\uadf8\uc778 \uc2e4\ud328 \ub2e4\uc2dc \uc2dc\ub3c4\ud558\uc138\uc694.");j&&(console.log("Login success"),i(Gn()))}),[j,b,i]),Object(o.useEffect)((function(){if(d){n.push("/movie");try{localStorage.setItem("user",JSON.stringify(d))}catch(e){console.log("localStorage is not working")}}}),[n,d]),Object(p.jsx)(wn,{type:"login",form:u,onChange:function(e){var n=e.target,t=n.value,r=n.name;i(se({form:"login",key:r,value:t}))},onSubmit:function(e){e.preventDefault();var n=u.username,t=u.password;i(le({username:n,password:t}))},error:c})})),rt=function(){return Object(p.jsx)(ln,{children:Object(p.jsx)(tt,{})})},ct=Object(bn.withRouter)((function(e){var n=e.history,t=Object(o.useState)(null),r=Object(l.a)(t,2),c=r[0],a=r[1],i=Object(y.b)(),s=Object(y.c)((function(e){var n=e.auth;return{form:n.register,auth:n.auth,authError:n.authError}})),u=s.form,j=s.auth,b=s.authError;return Object(o.useEffect)((function(){u.username||i(ue("register"))}),[i,u.username]),Object(o.useEffect)((function(){if(b)return 409===b.response.status?void a("\uc774\ubbf8 \uc874\uc7ac\ud558\ub294 \uacc4\uc815\uc785\ub2c8\ub2e4."):void a("\ud68c\uc6d0\uac00\uc785 \uc2e4\ud328");j&&(console.log("Register success"),n.push("/login"))}),[j,b,n]),Object(p.jsx)(wn,{type:"register",form:u,onChange:function(e){var n=e.target,t=n.value,r=n.name;i(se({form:"register",key:r,value:t}))},onSubmit:function(e){e.preventDefault();var n=u.username,t=u.password,r=u.passwordConfirm;if(![n,t,r].includes(""))return t!==r?(a("\ube44\ubc00\ubc88\ud638\uac00 \uc77c\uce58\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."),i(se({form:"register",key:"password",value:""})),void i(se({form:"register",key:"passwordConfirm",value:""}))):void i(je({username:n,password:t}));a("\ube48 \uce78\uc744 \ubaa8\ub450 \uc785\ub825\ud558\uc138\uc694.")},error:c})})),at=function(){return Object(p.jsx)(ln,{children:Object(p.jsx)(ct,{})})},it=t(63),ot=t(64),st=t(108),ut=t(105),jt=(t(99),t(100),t(106)),lt=t(104),bt=(t(101),m.b.div(Mn||(Mn=Object(b.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n"])))),dt=m.b.img(Bn||(Bn=Object(b.a)(["\n  width: 100%;\n  height: auto;\n"]))),Ot=m.b.ul(Jn||(Jn=Object(b.a)(["\n  list-style: none;\n  padding: 0;\n  @media (min-width: 768px) {\n    font-size: 1.5rem;\n  }\n"]))),mt=m.b.div(Pn||(Pn=Object(b.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  height: 100%;\n\n  @media (min-width: 768px) {\n    width: 300px;\n    height: 433px;\n  }\n"]))),ht=function(e){var n=e.title,t=e.year,r=e.summary,c=e.poster,a=e.genres,i=Object(o.useState)(!0),s=Object(l.a)(i,2),u=s[0],j=s[1],b=function(){j(!u)};return Object(p.jsx)(bt,{className:"container",children:u?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(mt,{className:"item front-face",children:Object(p.jsx)(dt,{src:c,alt:n,title:n})}),Object(p.jsx)(mt,{className:"item back-face",onClick:b,children:Object(p.jsxs)(Ot,{children:[Object(p.jsxs)("li",{children:["Title: ",n]}),Object(p.jsxs)("li",{children:["Year: ",t]}),Object(p.jsx)("li",{children:"Genres: "}),Object(p.jsx)("ul",{children:a.map((function(e){return Object(p.jsx)("li",{children:e},e)}))})]})})]}):Object(p.jsx)(mt,{className:"summary",onClick:b,children:r||"No summary"})})},pt=Object(m.b)(st.a)(Yn||(Yn=Object(b.a)(["\n  width: 100%;\n  height: 66vh;\n  margin-top: 5rem;\n  color: ",";\n"])),h.mainWhite),ft=m.b.div(Kn||(Kn=Object(b.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),xt=function(e){var n=e.isLoading,t=e.movies;return jt.a.use([lt.a]),Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(pt,{navigation:!0,slidesPerView:2,spaceBetween:100,centeredSlides:!0,pagination:{clickable:!0},scrollbar:{draggable:!0,dragSize:24},onSlideChange:function(){return console.log("slide change")},children:n?Object(p.jsx)(ut.a,{children:Object(p.jsx)(ft,{children:Object(p.jsx)("span",{children:"loading..."})})}):Object(p.jsx)(p.Fragment,{children:t.map((function(e){return Object(p.jsx)(ut.a,{children:Object(p.jsx)(ht,{year:e.year,title:e.title,summary:e.summary,poster:e.image,genres:e.genres})},e.id)}))})})})},gt=function(){var e=Object(y.b)(),n=Object(y.c)((function(e){return{isLoading:e.loading.isLoading}})).isLoading,t=Object(o.useState)([]),r=Object(l.a)(t,2),c=r[0],a=r[1],i=function(){var n=Object(ot.a)(E.a.mark((function n(){var t,r,c,i,o,s,u;return E.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e(N("isLoading")),n.prev=1,n.next=4,U.a.get("https://yts-proxy.now.sh/list_movies.json?sort_by=rating");case 4:t=n.sent,r=t.data.data.movies,c=[],i=Object(it.a)(r);try{for(i.s();!(o=i.n()).done;)s=o.value,u=new Object({id:s.id,title:s.title,year:s.year,summary:s.summary,image:s.medium_cover_image,genres:s.genres}),c.push(u)}catch(j){i.e(j)}finally{i.f()}a(c),e(_("isLoading")),n.next=17;break;case 13:n.prev=13,n.t0=n.catch(1),console.log(n.t0),e(N("isLoading"));case 17:case"end":return n.stop()}}),n,null,[[1,13]])})));return function(){return n.apply(this,arguments)}}();return Object(o.useEffect)((function(){i()}),[]),Object(p.jsx)(xt,{movies:c,isLoading:n})},vt=m.b.div(Vn||(Vn=Object(b.a)(["\n  display: flex;\n  align-items: center;\n"]))),wt=m.b.div($n||($n=Object(b.a)(["\n  font-weight: 600;\n  margin-right: 0.4rem;\n\n  @media (min-width: 480px) {\n    margin-right: 1rem;\n  }\n"]))),yt=Object(m.b)(v)(qn||(qn=Object(b.a)(["\n   @media (max-width: 480px) {\n     font-size: 0.7rem !important;\n  }\n"]))),kt=Object(j.withRouter)((function(e){var n=e.history,t=Object(y.b)(),r=Object(y.c)((function(e){return{user:e.user.user}})).user;Object(o.useEffect)((function(){try{var e=localStorage.getItem("user");if(!r||!e)return void console.log("\ub85c\uadf8\uc778 \uc911 \uc544\ub2d8")}catch(n){console.log(n)}}),[]);return Object(p.jsxs)("div",{children:[Object(p.jsx)(qe,{children:Object(p.jsxs)(Ke,{children:[Object(p.jsx)(w.b,{color:h.mainRed[0],size:40}),r?Object(p.jsxs)(vt,{children:[Object(p.jsx)(d.b,{to:"/mypage",children:Object(p.jsx)(wt,{children:r.username})}),Object(p.jsx)(yt,{size:1,onClick:function(){t(Dn()),n.push("/")},children:"\ub85c\uadf8\uc544\uc6c3"})]}):Object(p.jsx)(vt,{children:Object(p.jsx)(d.b,{to:"/login",children:Object(p.jsx)(v,{size:1,children:"\ub85c\uadf8\uc778"})})})]})}),Object(p.jsx)($e,{}),!r&&Object(p.jsx)(Je,{children:Object(p.jsx)("span",{children:"\ub85c\uadf8\uc778 \ud6c4\uc5d0 \uc774\uc6a9\ud558\uc2e4 \uc218 \uc788\uc2b5\ub2c8\ub2e4."})}),r&&Object(p.jsx)(gt,{})]})})),Ct=Object(m.b)(gn)(Qn||(Qn=Object(b.a)(["\n  margin: 0 !important;\n  background: "," !important;\n  &:hover {\n    background: "," !important;\n    color: "," !important;\n    font-weight: bold;\n  }\n"])),h.mainGray[6],h.mainGray[5],h.mainBlack),Et=Object(j.withRouter)((function(e){var n=e.history,t=Object(o.useState)(null),r=Object(l.a)(t,2),c=r[0],a=r[1],i=Object(y.b)(),s=Object(y.c)((function(e){var n=e.user,t=e.auth;return{user:n.user,form:t.register,auth:t.auth,switchError:t.switchError}})),u=s.user,j=s.form,b=s.auth,d=s.switchError,O=function(e){var n=e.target,t=n.value,r=n.name;i(se({form:"register",key:r,value:t}))},m=function(e){e.preventDefault();var n=j.password,t=j.passwordConfirm;if([n,t].includes(""))a("\ube48 \uce78\uc744 \ubaa8\ub450 \uc785\ub825\ud558\uc138\uc694.");else{if(n!==t)return a("\ube44\ubc00\ubc88\ud638\uac00 \uc77c\uce58\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."),i(se({form:"register",key:"password",value:""})),void i(se({form:"register",key:"passwordConfirm",value:""}));console.log(j),i(be({password:n}))}};return Object(o.useEffect)((function(){i(ue("register"))}),[i]),Object(o.useEffect)((function(){d?a("\ube44\ubc00\ubc88\ud638 \ubcc0\uacbd \uc2e4\ud328"):b&&(console.log("Modify success"),n.push("/movie"))}),[b,d]),Object(p.jsx)(dn,{children:Object(p.jsxs)("div",{children:[Object(p.jsx)(fn,{size:20,children:u.username}),Object(p.jsx)(pn,{children:"\ud68c\uc6d0 \ud398\uc774\uc9c0"}),Object(p.jsx)(pn,{children:"\ube44\ubc00\ubc88\ud638\ub97c \ubcc0\uacbd\ud558\uac70\ub098 \ud68c\uc6d0\uc744 \ud0c8\ud1f4\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."}),Object(p.jsxs)(On,{onSubmit:m,children:[Object(p.jsx)(xn,{name:"password",type:"password",autoComplete:"password",placeholder:"\ube44\ubc00\ubc88\ud638",onChange:O,value:j.password}),Object(p.jsx)(xn,{name:"passwordConfirm",type:"password",autoComplete:"passwordConfirm",placeholder:"\ube44\ubc00\ubc88\ud638 \ud655\uc778",onChange:O,value:j.passwordConfirm}),Object(p.jsx)(gn,{size:1,onClick:m,children:"\ube44\ubc00\ubc88\ud638 \ubcc0\uacbd"})]}),c&&Object(p.jsx)(hn,{children:c}),Object(p.jsx)(Ct,{size:1,onClick:function(){confirm("\ud68c\uc6d0 \ud0c8\ud1f4\uc2dc \uc0ac\uc6a9\uc790 \uc815\ubcf4\uac00 \uc804\ubd80 \uc0ad\uc81c\ub429\ub2c8\ub2e4. \uacc4\uc18d \ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")&&(i(Fn()),n.push("/"))},children:"\ud68c\uc6d0 \ud0c8\ud1f4"})]})})})),zt=m.b.div(Xn||(Xn=Object(b.a)(["\n  display: flex;\n  flex-direction: column;\n"]))),St=m.b.div(et||(et=Object(b.a)(["\n  display: flex;\n  justify-content: center;\n  margin-top: 1rem;\n"]))),Rt=function(){var e=Object(y.c)((function(e){return{user:e.user.user}})).user;return Object(p.jsxs)("div",{children:[!e&&Object(p.jsx)(ln,{noClick:!0,children:Object(p.jsxs)(zt,{children:[Object(p.jsx)("span",{children:"\ub85c\uadf8\uc778 \ud6c4\uc5d0 \uc774\uc6a9\ud558\uc2e4 \uc218 \uc788\uc2b5\ub2c8\ub2e4."}),Object(p.jsx)(St,{children:Object(p.jsx)(d.b,{to:"/login",children:Object(p.jsx)(v,{size:1,children:"\ub85c\uadf8\uc778"})})})]})}),e&&Object(p.jsx)(ln,{noClick:!0,children:Object(p.jsx)(Et,{})})]})},It=function(){return Object(p.jsxs)("div",{className:"routeHome",children:[Object(p.jsx)(j.Route,{component:sn,path:"/",exact:!0}),Object(p.jsx)(j.Route,{component:rt,path:"/login"}),Object(p.jsx)(j.Route,{component:at,path:"/register"}),Object(p.jsx)(j.Route,{component:kt,path:"/movie"}),Object(p.jsx)(j.Route,{component:Rt,path:"/mypage"})]})},Lt=t(25),At=t(65),Nt=t(66),_t=E.a.mark(Gt);function Gt(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(I.a)([he(),Hn()]);case 2:case"end":return e.stop()}}),_t)}var Dt=Object(Lt.combineReducers)({auth:Me,loading:G,user:nt}),Ft=Object(Nt.a)(),Tt=Object(Lt.createStore)(Dt,Object(At.composeWithDevTools)(Object(Lt.applyMiddleware)(Ft)));Ft.run(Gt),function(){try{var e=localStorage.getItem("user");if(!e)return;Tt.dispatch(_n(JSON.parse(e))),Tt.dispatch(Gn())}catch(n){console.log("localStorage is not working")}}(),u.a.render(Object(p.jsx)(y.a,{store:Tt,children:Object(p.jsx)(d.a,{children:Object(p.jsx)(It,{})})}),document.getElementById("root"))},71:function(e,n,t){}},[[102,1,2]]]);
//# sourceMappingURL=main.f5e8c8d3.chunk.js.map